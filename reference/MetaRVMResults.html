<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>MetaRVM Results Class — MetaRVMResults • MetaRVM</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="MetaRVM Results Class — MetaRVMResults"><meta name="description" content="R6 class to handle MetaRVM simulation results with comprehensive analysis and visualization methods.
This class stores formatted simulation results and provides methods for data summarization,
subsetting, and visualization with flexible demographic groupings."><meta property="og:description" content="R6 class to handle MetaRVM simulation results with comprehensive analysis and visualization methods.
This class stores formatted simulation results and provides methods for data summarization,
subsetting, and visualization with flexible demographic groupings."><meta property="og:image" content="https://RESUME-Epi.github.io/MetaRVM/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MetaRVM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/yaml-configuration.html">Model Configurations</a></li>
    <li><a class="dropdown-item" href="../articles/running-a-simulation.html">Running Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/checkpointing.html">Checkpointing and Restoring</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RESUME-Epi/MetaRVM" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>MetaRVM Results Class</h1>
      <small class="dont-index">Source: <a href="https://github.com/RESUME-Epi/MetaRVM/blob/main/R/classes.R" class="external-link"><code>R/classes.R</code></a></small>
      <div class="d-none name"><code>MetaRVMResults.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>R6 class to handle MetaRVM simulation results with comprehensive analysis and visualization methods.
This class stores formatted simulation results and provides methods for data summarization,
subsetting, and visualization with flexible demographic groupings.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The MetaRVMResults class automatically formats raw simulation output upon initialization,
converting time steps to calendar dates and adding demographic attributes. It provides
methods for flexible data summarization across any combination of age, race, and
geographic zone categories, plus method chaining for streamlined analysis workflows.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Arindam Fadikar</p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>config</code></dt>
<dd><p>MetaRVMConfig object used to generate these results</p></dd>


<dt><code>results</code></dt>
<dd><p>data.table containing formatted simulation results</p></dd>


<dt><code>run_info</code></dt>
<dd><p>List containing run metadata</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-MetaRVMResults-new"><code>MetaRVMResults$new()</code></a></p></li>
<li><p><a href="#method-MetaRVMResults-print"><code>MetaRVMResults$print()</code></a></p></li>
<li><p><a href="#method-MetaRVMResults-subset_data"><code>MetaRVMResults$subset_data()</code></a></p></li>
<li><p><a href="#method-MetaRVMResults-summarize"><code>MetaRVMResults$summarize()</code></a></p></li>
<li><p><a href="#method-MetaRVMResults-clone"><code>MetaRVMResults$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-MetaRVMResults-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialize a new MetaRVMResults object</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/MetaRVMResults.html">MetaRVMResults</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">raw_results</span>,</span>
<span>  <span class="va">config</span>,</span>
<span>  run_info <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formatted_results <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>raw_results</code></dt>
<dd><p>Raw simulation results data.table</p></dd>


<dt><code>config</code></dt>
<dd><p>MetaRVMConfig object used for the simulation</p></dd>


<dt><code>run_info</code></dt>
<dd><p>Optional metadata about the run</p></dd>


<dt><code>formatted_results</code></dt>
<dd><p>formatted simulation results data.table</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>New MetaRVMResults object (invisible)</p>
</div>

</div><p></p><hr><a id="method-MetaRVMResults-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Print summary of results</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">MetaRVMResults</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Self (invisible)</p>
</div>

</div><p></p><hr><a id="method-MetaRVMResults-subset_data"></a><div class="section">
<h3 id="method-subset-data-">Method <code>subset_data()</code><a class="anchor" aria-label="anchor" href="#method-subset-data-"></a></h3>
<p>Subset the data based on any combination of parameters</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">MetaRVMResults</span><span class="op">$</span><span class="fu">subset_data</span><span class="op">(</span></span>
<span>  ages <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  races <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zones <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disease_states <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  date_range <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  instances <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclude_p_columns <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>ages</code></dt>
<dd><p>Vector of age categories to include (default: all)</p></dd>


<dt><code>races</code></dt>
<dd><p>Vector of race categories to include (default: all)</p></dd>


<dt><code>zones</code></dt>
<dd><p>Vector of zones to include (default: all)</p></dd>


<dt><code>disease_states</code></dt>
<dd><p>Vector of disease states to include (default: all, excludes p_ columns)</p></dd>


<dt><code>date_range</code></dt>
<dd><p>Vector of two dates start_date, and end_date for filtering (default: all)</p></dd>


<dt><code>instances</code></dt>
<dd><p>Vector of instance numbers to include (default: all)</p></dd>


<dt><code>exclude_p_columns</code></dt>
<dd><p>Logical, whether to exclude p_ columns (default: TRUE)</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>MetaRVMResults object with subset of results</p>
</div>

</div><p></p><hr><a id="method-MetaRVMResults-summarize"></a><div class="section">
<h3 id="method-summarize-">Method <code>summarize()</code><a class="anchor" aria-label="anchor" href="#method-summarize-"></a></h3>
<p>Summarize results across specified demographic characteristics</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">MetaRVMResults</span><span class="op">$</span><span class="fu">summarize</span><span class="op">(</span></span>
<span>  <span class="va">group_by</span>,</span>
<span>  disease_states <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  date_range <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"median"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>  quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>  exclude_p_columns <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>group_by</code></dt>
<dd><p>Vector of demographic variables to group by: c("age", "race", "zone")</p></dd>


<dt><code>disease_states</code></dt>
<dd><p>Vector of disease states to include (default: all, excludes p_ columns)</p></dd>


<dt><code>date_range</code></dt>
<dd><p>Optional date range for filtering</p></dd>


<dt><code>stats</code></dt>
<dd><p>Vector of statistics to calculate: c("mean", "median", "sd", "min", "max", "sum", "quantile"). If NULL, returns all instances</p></dd>


<dt><code>quantiles</code></dt>
<dd><p>Vector of quantiles to calculate if "quantile" is in stats (default: c(0.25, 0.75))</p></dd>


<dt><code>exclude_p_columns</code></dt>
<dd><p>Logical, whether to exclude p_ columns (default: TRUE)</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>data.table with summarized time series data or all instances if stats = NULL</p>
</div>

</div><p></p><hr><a id="method-MetaRVMResults-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">MetaRVMResults</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>odin.verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">example_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"example_config.yaml"</span>, package <span class="op">=</span> <span class="st">"MetaRVM"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Run simulation</span></span></span>
<span class="r-in"><span><span class="va">results_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="metaRVM.html">metaRVM</a></span><span class="op">(</span><span class="va">example_config</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required namespace: pkgbuild</span>
<span class="r-in"><span><span class="co"># Access formatted results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results_obj</span><span class="op">$</span><span class="va">results</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          date    age   race   zone disease_state        value instance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        &lt;Date&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;        &lt;char&gt;        &lt;num&gt;    &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 2023-10-01   0-17      A     11             D 2.252583e-04        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 2023-10-01   0-17      A     11             E 1.305178e+01        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 2023-10-01   0-17      A     11             H 2.304447e-01        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: 2023-10-01   0-17      A     11         I_all 2.731688e+01        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: 2023-10-01   0-17      A     11       I_asymp 3.227854e-01        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6: 2023-10-01   0-17      A     11         I_eff 2.476245e+01        1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Subset data with multiple filters</span></span></span>
<span class="r-in"><span><span class="va">subset_data</span> <span class="op">&lt;-</span> <span class="va">results_obj</span><span class="op">$</span><span class="fu">subset_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"18-49"</span>, <span class="st">"50-64"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  disease_state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"D"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-02-01"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19723 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19754 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Method chaining for analysis and visualization</span></span></span>
<span class="r-in"><span><span class="va">results_obj</span><span class="op">$</span><span class="fu">subset_data</span><span class="op">(</span>disease_state <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span><span class="op">$</span><span class="fu">summarize</span><span class="op">(</span></span></span>
<span class="r-in"><span>  group_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"race"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"quantile"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.75</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">$</span><span class="fu">plot</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` instead.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">MetaRVM</span> package.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   Please report the issue at <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/RESUME-Epi/MetaRVM/issues&gt;</span>.</span>
<span class="r-plt img"><img src="MetaRVMResults-1.png" alt="" width="700" height="1133"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Arindam Fadikar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

