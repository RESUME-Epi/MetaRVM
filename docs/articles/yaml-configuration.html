<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>YAML Configuration for metaRVM • MetaRVM</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="YAML Configuration for metaRVM">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MetaRVM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="MetaRVM"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/yaml-configuration.html">Model Configurations</a></li>
    <li><a class="dropdown-item" href="../articles/running-a-simulation.html">Running Simulation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RESUME-Epi/MetaRVM" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>YAML Configuration for metaRVM</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RESUME-Epi/MetaRVM/blob/HEAD/vignettes/yaml-configuration.Rmd" class="external-link"><code>vignettes/yaml-configuration.Rmd</code></a></small>
      <div class="d-none name"><code>yaml-configuration.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>metaRVM</code> package uses a YAML file to configure the
model parameters. This vignette describes the structure of the YAML
configuration file, starting with a simple example and progressively
introducing more advanced features.</p>
</div>
<div class="section level2">
<h2 id="basic-configuration">Basic Configuration<a class="anchor" aria-label="anchor" href="#basic-configuration"></a>
</h2>
<p>A minimal configuration file specifies the data sources, simulation
settings, and disease parameters with fixed scalar values.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">run_id</span><span class="kw">:</span><span class="at"> SimpleRun</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">population_data</span><span class="kw">:</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="at">  </span><span class="fu">mapping</span><span class="kw">:</span><span class="at"> data/demographic_mapping.csv</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="at">  </span><span class="fu">initialization</span><span class="kw">:</span><span class="at"> data/population_init.csv</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="at">  </span><span class="fu">vaccination</span><span class="kw">:</span><span class="at"> data/vaccination.csv</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">mixing_matrix</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="at">  </span><span class="fu">weekday_day</span><span class="kw">:</span><span class="at"> data/m_weekday_day.csv</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="at">  </span><span class="fu">weekday_night</span><span class="kw">:</span><span class="at"> data/m_weekday_night.csv</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="at">  </span><span class="fu">weekend_day</span><span class="kw">:</span><span class="at"> data/m_weekend_day.csv</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="at">  </span><span class="fu">weekend_night</span><span class="kw">:</span><span class="at"> data/m_weekend_night.csv</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="fu">disease_params</span><span class="kw">:</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="at">  </span><span class="fu">ts</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.5</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="at">  </span><span class="fu">tv</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.25</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="at">  </span><span class="fu">ve</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.4</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="at">  </span><span class="fu">dv</span><span class="kw">:</span><span class="at"> </span><span class="dv">180</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="at">  </span><span class="fu">dp</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="at">  </span><span class="fu">de</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="at">  </span><span class="fu">da</span><span class="kw">:</span><span class="at"> </span><span class="dv">5</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="at">  </span><span class="fu">ds</span><span class="kw">:</span><span class="at"> </span><span class="dv">6</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="at">  </span><span class="fu">dh</span><span class="kw">:</span><span class="at"> </span><span class="dv">8</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="at">  </span><span class="fu">dr</span><span class="kw">:</span><span class="at"> </span><span class="dv">180</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="at">  </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.3</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="at">  </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.95</span></span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="at">  </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.97</span></span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a><span class="fu">simulation_config</span><span class="kw">:</span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="at">  </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> 01/01/2025</span><span class="co"> # m/d/Y</span></span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="at">  </span><span class="fu">length</span><span class="kw">:</span><span class="at"> </span><span class="dv">90</span></span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a><span class="at">  </span><span class="fu">nsim</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a><span class="at">  </span><span class="fu">random_seed</span><span class="kw">:</span><span class="at"> </span><span class="dv">42</span></span></code></pre></div>
<div class="section level3">
<h3 id="configuration-sections">Configuration Sections<a class="anchor" aria-label="anchor" href="#configuration-sections"></a>
</h3>
<ul>
<li>
<strong><code>run_id</code></strong>: A unique name for your
simulation.</li>
<li>
<strong><code>population_data</code></strong>: Paths to CSV files
for population demographics, initial state, and vaccination
schedules.</li>
<li>
<strong><code>mixing_matrix</code></strong>: Paths to CSV files
defining contact patterns for different times of the week.</li>
<li>
<strong><code>disease_params</code></strong>: Disease
characteristics. In this example, all parameters are single, fixed
values.</li>
<li>
<strong><code>simulation_config</code></strong>: Settings for the
simulation run, such as start date, duration, and number of
simulations.</li>
</ul>
</div>
<div class="section level3">
<h3 id="input-file-structures">Input File Structures<a class="anchor" aria-label="anchor" href="#input-file-structures"></a>
</h3>
<p>The <code>metaRVM</code> package requires several CSV files to be
structured in a specific way. Below are the descriptions for each of the
required input files.</p>
<div class="section level4">
<h4 id="population-data-files">Population Data Files<a class="anchor" aria-label="anchor" href="#population-data-files"></a>
</h4>
<ul>
<li>
<strong><code>mapping</code></strong>: The population mapping file
connects population IDs to demographic information. It must contain the
following columns:
<ul>
<li>
<code>population_id</code>: A unique identifier for each
subpopulation, set of natural numbers 1, 2, 3, …</li>
<li>
<code>age</code>: The age group of the subpopulation (e.g., “0-4”,
“65+”).</li>
<li>
<code>race</code>: The race or ethnicity of the subpopulation.</li>
<li>
<code>hcez</code>: The healthcare zone or geographic region of the
subpopulation.</li>
</ul>
</li>
<li>
<strong><code>initialization</code></strong>: This file specifies
the initial state of the population for the simulation. It must contain
the following columns:
<ul>
<li>
<code>N</code>: The total number of individuals in each
subpopulation.</li>
<li>
<code>S0</code>: The initial number of susceptible individuals.</li>
<li>
<code>I0</code>: The initial number of symptomatic infected
individuals.</li>
<li>
<code>V0</code>: The initial number of vaccinated individuals.</li>
<li>
<code>R0</code>: The initial number of recovered individuals.</li>
</ul>
</li>
<li>
<strong><code>vaccination</code></strong>: The vaccination schedule
file contains the number of vaccinations administered over time. The
first column must be <code>date</code> in <code>MM/DD/YYYY</code>
format, followed by columns for each subpopulation in the same order
that they are assigned a <code>population_id</code> in the mapping
file.</li>
</ul>
</div>
<div class="section level4">
<h4 id="mixing-matrix-files">Mixing Matrix Files<a class="anchor" aria-label="anchor" href="#mixing-matrix-files"></a>
</h4>
<p>The mixing matrix files define the contact patterns between different
subpopulations. Each file should be a CSV without a header, where the
rows and columns correspond to the subpopulations in the same order as
the population mapping file. The values in the matrix represent the
proportion of time that individuals from one subpopulation spend with
individuals from another. The sum of each row must equal 1.</p>
</div>
</div>
<div class="section level3">
<h3 id="disease-parameter-descriptions">Disease Parameter Descriptions<a class="anchor" aria-label="anchor" href="#disease-parameter-descriptions"></a>
</h3>
<p>Below is a list of the disease parameters used in
<code>metaRVM</code>:</p>
<ul>
<li>
<code>ts</code>: Transmission rate for symptomatic individuals in
the susceptible population.</li>
<li>
<code>tv</code>: Transmission rate for symptomatic individuals in
the vaccinated population.</li>
<li>
<code>ve</code>: Vaccine effectiveness (proportion, range: [0,
1]).</li>
<li>
<code>dv</code>: Mean duration (in days) in the vaccinated state
before immunity wanes.</li>
<li>
<code>dp</code>: Mean duration (in days) in the presymptomatic
infectious state.</li>
<li>
<code>de</code>: Mean duration (in days) in the exposed state.</li>
<li>
<code>da</code>: Mean duration (in days) in the asymptomatic
infectious state.</li>
<li>
<code>ds</code>: Mean duration (in days) in the symptomatic
infectious state.</li>
<li>
<code>dh</code>: Mean duration (in days) in the hospitalized
state.</li>
<li>
<code>dr</code>: Mean duration (in days) of immunity in the
recovered state.</li>
<li>
<code>pea</code>: Proportion of exposed individuals who become
asymptomatic (vs. presymptomatic) (range: 0-1).</li>
<li>
<code>psr</code>: Proportion of symptomatic individuals who recover
directly (vs. requiring hospitalization) (range: 0-1).</li>
<li>
<code>phr</code>: Proportion of hospitalized individuals who recover
(vs. die) (range: 0-1).</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="defining-parameters-with-distributions">Defining Parameters with Distributions<a class="anchor" aria-label="anchor" href="#defining-parameters-with-distributions"></a>
</h2>
<p>Instead of fixed values, you can define disease parameters using
statistical distributions. This is useful for capturing uncertainty in
the parameters. <code>metaRVM</code> supports <code>uniform</code> and
<code>lognormal</code> distributions.</p>
<p>Here is an example of defining <code>ve</code>, <code>da</code>,
<code>ds</code>, and <code>dh</code> with distributions:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">disease_params</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="at">  </span><span class="fu">ts</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.7</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="at">  </span><span class="fu">tv</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.35</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="at">  </span><span class="fu">ve</span><span class="kw">:</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="at">    </span><span class="fu">dist</span><span class="kw">:</span><span class="at"> uniform</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="at">    </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.29</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="at">    </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.53</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="at">  </span><span class="fu">dv</span><span class="kw">:</span><span class="at"> </span><span class="dv">158</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="at">  </span><span class="fu">dp</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="at">  </span><span class="fu">de</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="at">  </span><span class="fu">da</span><span class="kw">:</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="at">    </span><span class="fu">dist</span><span class="kw">:</span><span class="at"> uniform</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="at">    </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="at">    </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">7</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="at">  </span><span class="fu">ds</span><span class="kw">:</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="at">    </span><span class="fu">dist</span><span class="kw">:</span><span class="at"> uniform</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="at">    </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">5</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="at">    </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">7</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="at">  </span><span class="fu">dh</span><span class="kw">:</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="at">    </span><span class="fu">dist</span><span class="kw">:</span><span class="at"> lognormal</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="at">    </span><span class="fu">mu</span><span class="kw">:</span><span class="at"> </span><span class="dv">8</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="at">    </span><span class="fu">sd</span><span class="kw">:</span><span class="at"> </span><span class="fl">8.9</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="at">  </span><span class="fu">dr</span><span class="kw">:</span><span class="at"> </span><span class="dv">187</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="at">  </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.333</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="at">  </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.95</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="at">  </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.97</span></span></code></pre></div>
<ul>
<li>For a <code>uniform</code> distribution, you must specify
<code>min</code> and <code>max</code> values.</li>
<li>For a <code>lognormal</code> distribution, you must specify
<code>mu</code> and <code>sd</code> (mean and standard deviation on the
log scale).</li>
</ul>
</div>
<div class="section level2">
<h2 id="specifying-subgroup-parameters">Specifying Subgroup Parameters<a class="anchor" aria-label="anchor" href="#specifying-subgroup-parameters"></a>
</h2>
<p><code>metaRVM</code> allows you to specify different disease
parameters for various demographic subgroups using the
<code>sub_disease_params</code> section. These subgroup-specific
parameters will override the global parameters defined in
<code>disease_params</code>.</p>
<p>It is crucial that the demographic categories (e.g.,
<code>age</code>) and the specific values (e.g., <code>0-4</code>,
<code>5-11</code>) used in this section exactly match the corresponding
columns and values in the population mapping CSV file specified under
<code>population_data</code>.</p>
<p>The following example defines different parameters for different age
groups:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">sub_disease_params</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="at">    </span><span class="fu">age</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="at">      </span><span class="fu">0-4</span><span class="kw">:</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="at">        </span><span class="fu">dh</span><span class="kw">:</span><span class="at"> </span><span class="dv">4</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="at">        </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.08</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="at">        </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9303</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="at">        </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9920</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="at">      </span><span class="fu">5-11</span><span class="kw">:</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="at">        </span><span class="fu">dh</span><span class="kw">:</span><span class="at"> </span><span class="dv">4</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="at">        </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.08</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="at">        </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9726</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="at">        </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9920</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="at">      </span><span class="fu">12-17</span><span class="kw">:</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="at">        </span><span class="fu">dh</span><span class="kw">:</span><span class="at"> </span><span class="dv">4</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="at">        </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.08</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="at">        </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9726</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="at">        </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9920</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="at">      </span><span class="fu">18-49</span><span class="kw">:</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="at">        </span><span class="fu">ts</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.01</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="at">        </span><span class="fu">dh</span><span class="kw">:</span><span class="at"> </span><span class="dv">6</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="at">        </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.12</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="at">        </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9439</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="at">        </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9690</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="at">      </span><span class="fu">50-64</span><span class="kw">:</span></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="at">        </span><span class="fu">dh</span><span class="kw">:</span><span class="at"> </span><span class="dv">6</span></span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a><span class="at">        </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.05</span></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a><span class="at">        </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9894</span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a><span class="at">        </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9425</span></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a><span class="at">      </span><span class="fu">65+</span><span class="kw">:</span></span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a><span class="at">        </span><span class="fu">dh</span><span class="kw">:</span><span class="at"> </span><span class="dv">7</span></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a><span class="at">        </span><span class="fu">pea</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.05</span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a><span class="at">        </span><span class="fu">psr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9091</span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a><span class="at">        </span><span class="fu">phr</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.9227</span></span></code></pre></div>
<p>In this configuration, individuals in the “0-4” age group will have a
<code>dh</code> (duration of hospitalization) of 4, overriding any
global <code>dh</code> value. Similarly, the transmission rate
<code>ts</code> for the “18-49” group is set to 0.01.</p>
</div>
<div class="section level2">
<h2 id="checkpointing-and-restoring-simulations">Checkpointing and Restoring Simulations<a class="anchor" aria-label="anchor" href="#checkpointing-and-restoring-simulations"></a>
</h2>
<p>For long-running simulations, it is useful to save the state of the
model at intermediate points. This is known as checkpointing.
<code>metaRVM</code> allows you to save checkpoints and restore a
simulation from a saved state.</p>
<div class="section level3">
<h3 id="enabling-checkpointing">Enabling Checkpointing<a class="anchor" aria-label="anchor" href="#enabling-checkpointing"></a>
</h3>
<p>To enable checkpointing, you need to add the
<code>checkpoint_dir</code> and optionally <code>checkpoint_dates</code>
to the <code>simulation_config</code> section of your YAML file.</p>
<ul>
<li>
<code>checkpoint_dir</code>: The directory where checkpoint files
will be saved.</li>
<li>
<code>checkpoint_dates</code>: A list of dates (in
<code>MM/DD/YYYY</code> format) on which to save a checkpoint. If this
is not provided, a single checkpoint will be saved at the end of the
simulation.</li>
</ul>
<p>Here is an example of how to configure checkpointing:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">simulation_config</span><span class="kw">:</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="at">  </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> 01/01/2025</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="at">  </span><span class="fu">length</span><span class="kw">:</span><span class="at"> </span><span class="dv">90</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="at">  </span><span class="fu">nsim</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="at">  </span><span class="fu">random_seed</span><span class="kw">:</span><span class="at"> </span><span class="dv">42</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="at">  </span><span class="fu">checkpoint_dir</span><span class="kw">:</span><span class="at"> </span><span class="st">"path/to/checkpoints"</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="at">  </span><span class="fu">checkpoint_dates</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">"01/15/2025"</span><span class="kw">,</span><span class="at"> </span><span class="st">"01/30/2025"</span><span class="kw">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="restoring-from-a-checkpoint">Restoring from a Checkpoint<a class="anchor" aria-label="anchor" href="#restoring-from-a-checkpoint"></a>
</h3>
<p>To restore a simulation from a checkpoint file, use the
<code>restore_from</code> parameter in the
<code>simulation_config</code> section. This will initialize the model
with the state saved in the specified checkpoint file.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">simulation_config</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="at">  </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> 01/30/2025</span><span class="co"> # Should be the next date of the checkpoint date</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="at">  </span><span class="fu">length</span><span class="kw">:</span><span class="at"> </span><span class="dv">60</span><span class="co"> # Remaining simulation length</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="at">  </span><span class="fu">nsim</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="at">  </span><span class="fu">restore_from</span><span class="kw">:</span><span class="at"> </span><span class="st">"path/to/checkpoints/checkpoint_2025-01-30_instance_1.Rda"</span></span></code></pre></div>
<p>When restoring, the <code>start_date</code> should correspond to the
next date of the checkpoint, and the <code>length</code> should be the
remaining duration of the simulation. Note that each instance of a
simulation must be restored individually.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Arindam Fadikar, Charles Macal.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
